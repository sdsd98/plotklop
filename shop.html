<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css"> 
    <title>Obchod | Zelen√Ω r√°j</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"> 
</head>
<body>

   
    <nav class="navbar">
        <div class="navdiv">
            <div class="logo"><a href="index.html">Zelen√Ω R√°j</a></div>
            <ul class="list_nav">
                <li><a href="index.html">Home</a></li>
                <li><a href="#" class="active">Shop</a></li>
                <li><a href="#" id="Contact">Contact</a></li>
            </ul>
            <div class="nav_buttons">
                <button class="nav_button" onclick="window.open('login.html', '_blank')">P≈ôihl√°sit</button>
                <button class="nav_button" onclick="window.location.href='register.html'">Registrovat</button>
            </div>
        </div>
    </nav>

   
    <!--  SHOP CONTENT -->
    <main>
        <h1>üõí Na≈°e nab√≠dka</h1>
    
        <div class="shop-container">
            <div class="product">
                <img src="http://upload.wikimedia.org/wikipedia/commons/8/89/Tomato_je.jpg" alt="Rajƒçata">
                <h3>ƒåerstv√° rajƒçata</h3>
                <p>49 Kƒç / kg</p>
                <button class="add-to-cart" data-name="ƒåerstv√° rajƒçata" data-price="49">P≈ôidat do ko≈°√≠ku</button>
            </div>
    
            <div class="product">
                <img src="https://ucarecdn.com/459eb7be-115a-4d85-b1d8-deaabc94c643/-/format/auto/-/preview/3000x3000/-/quality/lighter/" alt="Mrkev">
                <h3>Organick√° mrkev</h3>
                <p>35 Kƒç / kg</p>
                <button class="add-to-cart" data-name="Organick√° mrkev" data-price="35">P≈ôidat do ko≈°√≠ku</button>
            </div>
    
            <div class="product">
                <img src="https://www.mashed.com/img/gallery/why-you-should-never-wash-iceberg-lettuce-ahead-of-time/l-intro-1679342305.jpg" alt="Sal√°t">
                <h3>K≈ôupav√Ω sal√°t</h3>
                <p>29 Kƒç / ks</p>
                <button class="add-to-cart" data-name="K≈ôupav√Ω sal√°t" data-price="29">P≈ôidat do ko≈°√≠ku</button>
            </div>
    
            <div class="product">
                <img src="https://static7.depositphotos.com/1005708/789/i/950/depositphotos_7899312-stock-photo-raw-potatoes.jpg" alt="Brambory">
                <h3>Farm√°≈ôsk√© brambory</h3>
                <p>25 Kƒç / kg</p>
                <button class="add-to-cart" data-name="Farm√°≈ôsk√© brambory" data-price="25">P≈ôidat do ko≈°√≠ku</button>
            </div>
        </div>
    
        <!-- kosik -->
        <h2>üõçÔ∏è V√°≈° ko≈°√≠k</h2>
        <div id="cart">
            <ul id="cart-items"></ul>
            <p><strong>Celkov√° cena: <span id="total-price">0</span> Kƒç</strong></p>
            <button id="clear-cart">Vypr√°zdnit ko≈°√≠k</button>
        </div>
    </main>
    

   
    <footer>
        <p>&copy; 2025 Zelen√Ω r√°j | Tento projekt je vytvo≈ôen pro studijn√≠ √∫ƒçely</p>
    </footer>
    <script>
        
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
    
       
        document.querySelectorAll(".add-to-cart").forEach(button => {
            button.addEventListener("click", () => {
                const name = button.getAttribute("data-name");
                const price = parseFloat(button.getAttribute("data-price"));
    
                addToCart(name, price);
            });
        });
    
        
        function addToCart(name, price) {
            const existingItem = cart.find(item => item.name === name);
            
            if (existingItem) {
                existingItem.quantity += 1; 
            } else {
                cart.push({ name, price, quantity: 1 });
            }
    
            updateCart();
        }
    
      
        function updateCart() {
            const cartList = document.getElementById("cart-items");
            const totalPriceElement = document.getElementById("total-price");
    
            cartList.innerHTML = ""; 
            let totalPrice = 0;
    
            cart.forEach(item => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `${item.name} - ${item.quantity} ks - ${item.price * item.quantity} Kƒç 
                    <button class="remove-item" data-name="${item.name}">‚ùå</button>`;
    
                cartList.appendChild(listItem);
                totalPrice += item.price * item.quantity;
            });
    
            totalPriceElement.innerText = totalPrice;
    
            
            localStorage.setItem("cart", JSON.stringify(cart));
    
            
            document.querySelectorAll(".remove-item").forEach(button => {
                button.addEventListener("click", () => {
                    const name = button.getAttribute("data-name");
                    removeFromCart(name);
                });
            });
        }
    
        
        function removeFromCart(name) {
            cart = cart.filter(item => item.name !== name);
            updateCart();
        }
    
        // Funkce pro vypr√°zdnƒõn√≠ ko≈°√≠ku
        document.getElementById("clear-cart").addEventListener("click", () => {
            cart = [];
            updateCart();
        });
    
        
        updateCart();
    </script>
    
</body>
</html>
